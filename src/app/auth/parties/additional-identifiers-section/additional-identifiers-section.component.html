<div class="container">
  <div class="row">
    <div class="col">
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th scope="col">Identificador</th>
              <th scope="col">Nombre legal</th>
              <th scope="col">Esquema</th>
              <th scope="col">URI</th>
              <th scope="col">Opciones</th>
            </tr>
            <tr [formGroup]="additionalIdentifiersForm">
              <th>
                <input
                  class="form-control"
                  id="id"
                  type="text"
                  placeholder="Identificador"
                  formControlName="id"
                  [class.is-invalid]="add_id.invalid && add_id.touched"
                />
                <div class="invalid-feedback" *ngIf="add_id.invalid && add_id.touched">
                  Requerido
                </div>
              </th>
              <th>
                <input
                  class="form-control"
                  id="legalName"
                  type="text"
                  placeholder="Nombre legal"
                  formControlName="legalName"
                  [class.is-invalid]="add_legalName.invalid && add_legalName.touched"
                />
                <div class="invalid-feedback" *ngIf="add_legalName.invalid && add_legalName.touched">
                  Requerido
                </div>
              </th>
              <th>
                <select
                  class="form-select"
                  id="schema"
                  formControlName="schema"
                  [class.is-invalid]="add_schema.invalid && add_schema.touched"
                >
                  <option value="">Seleccione un esquema</option>
                  <option
                    *ngFor="let scheme of organizationSchemes"
                    [value]="scheme.code"
                  >
                    {{ scheme.code }}
                  </option>
                </select>
                <div class="invalid-feedback" *ngIf="add_schema.invalid && add_schema.touched">
                  Requerido
                </div>
              </th>
              <th>
                <input
                  class="form-control"
                  id="uri"
                  type="text"
                  placeholder="URI"
                  formControlName="uri"
                  readonly
                />
              </th>
              <th>
                <button
                  type="button"
                  class="btn btn-success btn-add"
                  (click)="addAdditionalIdentifiers()"
                  [disabled]="!additionalIdentifiersForm.valid"
                >
                  <i class="fas fa-plus me-1"></i>Agregar
                </button>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of additionalIdentifiersArray; index as i">
              <td scope="row">{{ item.id }}</td>
              <td>{{ item.legalName }}</td>
              <td>{{ item.schema }}</td>
              <td>{{ item.uri }}</td>
              <td>
                <button
                  type="button"
                  class="btn btn-danger btn-delete btn-sm"
                  (click)="confirmAndDeleteIdentifier(i)"
                >
                  <i class="fas fa-trash me-1"></i>Eliminar
                </button>
              </td>
            </tr>
            <tr *ngIf="additionalIdentifiersArray.length === 0">
              <th scope="row" colspan="5" class="text-center">
                Sin registros de identificadores adicionales.
              </th>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  
  <div class="row mt-3">
    <div class="col">
      <div class="alert alert-info">
        <i class="fas fa-info-circle me-2"></i>
        <strong>Información:</strong> Los identificadores adicionales permiten registrar 
        múltiples formas de identificación para el mismo actor (RFC, CURP, etc.).
      </div>
    </div>
  </div>
</div>